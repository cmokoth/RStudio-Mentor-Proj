---
title: "analyze_text"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())

```

```{r import, child=c('../data/import.Rmd','../wk03/plots02.Rmd')}

```

Week four!
```{r tf_idf}
# there doesn't seem to be a way to evaluate tf_idf with this function without a grouping variable
# rank groupd by ConvoId
ranktf = freq_by_rank %>% 
  # mutate(total = 352376) %>% 
  bind_tf_idf(Word,ConvoId,Count)

# rank grouped by corpus (not extremely efficient)
ranktf1 = freq_by_rank %>% 
  mutate(total = 352376) %>% 
  bind_tf_idf(Word,total,Count)

# checking her out
ranktf %>%
  select(-rank) %>%
  arrange(desc(tf_idf))
# checking HER out
ranktf1 %>%
  select(-rank) %>%
  arrange(desc(tf_idf))

# not working the way I want?
ranktf %>% 
  slice_max(tf_idf,n = 10) %>% 
  ggplot(aes(tf_idf,Word)) +
  geom_col()
```

